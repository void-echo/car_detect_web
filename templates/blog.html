<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> 4D-Net Images </title>
    <!-- Favicon -->

    <!--================= Include All Styles ==================-->
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="static/css1/bootstrap.min.css">
    <!-- Font Awesome Icon -->
    <link rel="stylesheet" type="text/css" href="static/css1/all.min.css">
    <!-- Animate -->
    <link rel="stylesheet" type="text/css" href="static/css1/animate.css">
    <!-- Animated Headline -->
    <link rel="stylesheet" type="text/css" href="static/css1/animated-headline.css">
    <!-- Carousel -->
    <link rel="stylesheet" type="text/css" href="static/css1/owl.carousel.min.css">
    <link rel="stylesheet" type="text/css" href="static/css1/owl.theme.default.min.css">
    <!-- Fancybox Popup -->
    <link rel="stylesheet" type="text/css" href="static/css1/jquery.fancybox.min.css">
    <!-- Mobile Menu -->
    <link rel="stylesheet" type="text/css" href="static/css1/meanmenu.css">
    <!-- Main styles-->
    <link rel="stylesheet" type="text/css" href="static/css1/styles1.css">
    <!-- Responsive styles-->
    <link rel="stylesheet" type="text/css" href="static/css1/responsive1.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.1/socket.io.js"></script>
    <script>
        const socket = io.connect('http://' + document.domain + ':' + location.port);
        socket.on('out_a', function (out_a) {
            document.getElementById('out_a-container').innerHTML = out_a;
        });
        socket.on('out_ba', function (out_ba) {
            document.getElementById('out_ba-container').innerHTML = out_ba;
        });
        socket.on('out_bs', function (out_bs) {
            document.getElementById('out_bs-container').innerHTML = out_bs;
        });
        socket.on('out_s', function (out_s) {
            document.getElementById('out_s-container').innerHTML = out_s;
        });
        socket.on('out_t', function (out_t) {
            document.getElementById('out_t-container').innerHTML = out_t;
        });
        socket.on('out_v', function (out_v) {
            document.getElementById('out_v-container').innerHTML = out_v;
        });
        socket.emit('start_stream');


    </script>
</head>

<!--==================== body ======================= -->
<body>
<!--==================== Loading ======================= -->
<!--    <div class="container-loader">-->
<!--      <div class="loader">-->
<!--        <div class="double-pulse"></div>-->
<!--        <div class="double-pulse"></div>-->
<!--      </div>-->
<!--    </div>-->
<!--================= Header Section ==================-->
<header class="header">
    <div class="navbar-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-xl-12 col-lg-12 col-md-12 mob-p-0">
                    <nav class="main-navbar p-0">
                        <div class="logo">
                            <a href="{{ url_for('home') }}">4D-Net</a>
                        </div>
                        <div class="navigation">
                            <ul id="onepage-nav" class="mainnav">
                                <!--                                    修改导航栏-->
                                <li><a class="" href="{{ url_for('home') }}">主页</a></li>
                                <!--                                <li><a class="" href="{{ url_for('about') }}">关于我们</a></li>-->
                                <li><a class="active" href="{{ url_for('contact') }}">影像</a></li>

                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- End Navbar Wrapper -->
</header>

<!--================= Banner Inner Section ==================-->
<section class="breadcrumb-area m-0">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-inner text-center">
                    <!--                        修改字体大小-->
                    <h2 class="title" style="font-size:50px">影像</h2>
                    <ul class="page-list">
                        <!--                            去掉链接-->
                        <li><a>Images</a></li>
                        <li class="active">4D-Net</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>


<!--================= Blog Section ==================-->
<section class="blog">
    <div class="container">
        <div class="row">
            <div class="col-md-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="heading-section text-center">
                    <!--================= TITLE:Images List ==================-->
                    <h2 style="font-size:30px">影像列表 ·<span class="text-primary"
                                                               style="font-size:30px"> Images List</span></h2>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInLeft" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第一张图 ==================-->
                            <!--================= 图片尺寸：长580 宽392 ==================-->
                            <!--                            <img src="{{ url_for('video_feed') }}" alt="">-->
                            <img src="static/picture/pic1.jpg" alt="" title="" onclick="runScript1()">
                            <script>
                                function runScript1() {
                                    var confirmed = confirm("是否跳转到livox改进版点云图?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "script1.sh", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">livox改进版建图</a></h4>
                        <p>livox改进版：我们基于livox sdk进行了一些改进，修改了一些建图参数。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>
            <!-- End Blog Col -->

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第二张图 ==================-->
                            <!--                            <img src="static/picture/car6.jpg" alt="" title=""  onclick="runScript2()">-->
                            <img src="static/picture/pic2.jpg" alt="" title="" height="313" onclick="runScript2()">
                            <script>
                                function runScript2() {
                                    var confirmed = confirm("是否跳转到OAK-D点云图?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "script2.sh", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                            <!--                            <img src="{{ url_for('video_feed') }}" alt="">-->
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">OAK-D建图</a>
                        </h4>
                        <p>
                            使用了开源库depthai和spectacularAI进行深度感知和VIO任务，实时更新相机位姿和渲染关键帧的点云，并利用Open3D库实现三维可视化。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>
            <!-- End Blog Col -->

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInLeft" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第三张图 ==================-->

                            <img src="static/picture/car6.jpg" alt="" title="" onclick="runScript3()">
                            <script>
                                function runScript3() {
                                    var confirmed = confirm("是否跳转到自动驾驶界面?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "script3.sh", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate">实时小车避障</a></h4>
                        <p>
                            <span class="no-wrap" id="out_ba-container"></span>&emsp;<span class="no-wrap"
                                                                                           id="out_a-container"></span>
                            <br><span class="no-wrap" id="out_v-container"></span>&emsp;&nbsp;<span class="no-wrap"
                                                                                                    id="out_s-container"></span>
                            <br><span class="no-wrap" id="out_t-container"></span>&emsp;&ensp;<span class="no-wrap"
                                                                                                    id="out_bs-container"></span>
                        </p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>
            <!-- End Blog Col -->

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInLeft" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第四张图 ==================-->
                            <div id="myDiv" style="max-width:200px;"></div>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">PCD图</a>
                        </h4>

                        <p>
                            使用Three.js中的PCDLoader类，将PCD文件显示在HTML文件中，并且可以通过鼠标进行拖动角度、缩放大小等操作</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>
            <!-- End Blog Col -->

            <!--            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">-->
            <!--                <div class="blog-item">-->
            <!--                    <div class="blog-pic position-relative">-->
            <!--                        <a class="d-block overflow-hidden">-->
            <!--                            &lt;!&ndash;================= 第五张图 ==================&ndash;&gt;-->
            <!--                            <img src="static/picture/car5.jpg" alt="" title="">-->
            <!--                            <script>-->
            <!--                                function runScript() {-->
            <!--                                    var xmlhttp = new XMLHttpRequest();-->
            <!--                                    xmlhttp.onreadystatechange = function() {-->
            <!--                                      if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {-->
            <!--                                        var result = xmlhttp.responseText;-->
            <!--                                        // do something with the result-->
            <!--                                      }-->
            <!--                                    };-->
            <!--                                    xmlhttp.open("GET", "script.sh", true);-->
            <!--                                    xmlhttp.send();-->
            <!--                                  }-->


            <!--                            </script>-->
            <!--                        </a>-->
            <!--                    </div>-->
            <!--                    <div class="blog-content">-->
            <!--                        <h4><a class="truncate" href="blog-single.html">How to Become a Front End Developer - Skills,-->
            <!--                            Roles, Salary Explained</a></h4>-->
            <!--                        <p>Mus integer tristique auctor suscipit congue fames parturient mi lacus placerat mi aliquam-->
            <!--                            fusce cras tristique nonummy.</p>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--                &lt;!&ndash; End Blog Item &ndash;&gt;-->
            <!--            </div>-->

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInRight" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第六张图 ==================-->
                            <!--                            <img src="static/picture/car6.jpg" alt="" title="">-->
                            <!--                            <video width="520" height="540" controls>-->
                            <!--                                <source src="static/picture/video.mp4" type="video/mp4">-->
                            <!--                            </video>-->
                            <object data="static/picture/video.mp4" width="420" height="313"></object>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate">避障示例</a></h4>
                        <p>在实验室环境中，小车运行时可以成功识别到途中的障碍物，并转向以避开障碍物。障碍物识别的精度很高，可以精确识别到楼梯的扶手护栏。
                        </p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第七张图 ==================-->
                            <!--                            <img src="static/picture/car6.jpg" alt="" title=""  onclick="runScript2()">-->
                            <img src="static/picture/pic7.jpg" alt="" title="" height="313" onclick="runScript7()">
                            <script>
                                function runScript7() {
                                    var confirmed = confirm("是否跳转到边缘检测?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "edge_detect", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">边缘检测图</a></h4>
                        <p>
                            使用DepthAI库创建图像处理pipeline。它使用OAK-D相机来捕获图像，并在显示窗口中显示处理后的边缘图像。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第八张图 ==================-->
                            <img src="static/picture/pic8.jpg" alt="" title="" height="313" onclick="runScript8()">
                            <script>
                                function runScript8() {
                                    var confirmed = confirm("是否跳转到拉普拉斯边缘检测?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "laplacian", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">拉普拉斯边缘检测图</a>
                        </h4>
                        <p>它使用OAK-D相机来捕获图像，并在显示窗口中显示拉普拉斯处理后的边缘图像。</p>
                    </div>
                </div>
            </div>
            <!-- End Blog Item -->
            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第九张图 ==================-->
                            <img src="static/picture/pic9.jpg" alt="" title="" height="313" onclick="runScript9()">
                            <script>
                                function runScript9() {
                                    var confirmed = confirm("是否跳转到关键点追踪?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "key_point_tracker", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">关键点追踪图</a>
                        </h4>
                        <p>检测关键点，用ORB提取描述子并进行K最近邻匹配，用RANSAC算法剔除错误匹配点，最后将二维坐标转化为三维坐标，输出图像。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第十张图 ==================-->
                            <img src="static/picture/pic10.jpg" alt="" title="" height="313" onclick="runScript10()">
                            <script>
                                function runScript10() {
                                    var confirmed = confirm("是否跳转到livox-loam建图?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "livox_loam", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate">livox-loam建图</a>
                        </h4>
                        <p>使用livox-loam建点云图。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>

            <div class="col-lg-4 col-md-6 col-xs-12 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                <div class="blog-item">
                    <div class="blog-pic position-relative">
                        <a class="d-block overflow-hidden">
                            <!--================= 第十一张图 ==================-->
                            <img src="static/picture/pic11.jpg" alt="" title="" height="313" onclick="runScript11()">
                            <script>
                                function runScript11() {
                                    var confirmed = confirm("是否跳转人物追踪?");
                                    if (confirmed) {
                                        var xmlhttp = new XMLHttpRequest();
                                        xmlhttp.onreadystatechange = function () {
                                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                                                var result = xmlhttp.responseText;
                                                // do something with the result
                                            }
                                        };
                                        xmlhttp.open("GET", "object_tractor", true);
                                        xmlhttp.send();
                                    }
                                }
                            </script>
                        </a>
                    </div>
                    <div class="blog-content">
                        <h4><a class="truncate" href="blog-single.html">物体追踪</a>
                        </h4>
                        <p>追踪人或物体，并且可以记忆已经出现过的物体：出现过的物体移出画面再进入画面时仍可分辨该物体。</p>
                    </div>
                </div>
                <!-- End Blog Item -->
            </div>
            <!-- End Blog Col -->
        </div>
    </div>
</section>


<!--================= Footer Section ==================-->
<footer class="footer">
    <div class="footer-top">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-lg-3 wow fadeInLeft" data-wow-duration="500ms" data-wow-delay="500ms">
                    <div class="footer-widget white">
                        <h3 class="widget-title">Lidar</h3>
                        <p>Livox
                            Mid-40。独特的非重复采样策略，助其精确探测视场中每个细节。而这一切都蕴含于小巧的机身中，可轻松嵌入各种平台。</p>
                    </div>
                    <!-- End Footer Widget  -->
                </div>
                <div class="col-sm-6 col-lg-3 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">
                    <div class="footer-widget white">
                        <h3 class="widget-title">Camera</h3>
                        <p>OpenCV AI Kit-D(OAK-D)。OAK-D是其前身OpenCV AI Kit(OAK)的一个实际变体，能够实现空间AI。</p>
                    </div>
                    <!-- End Footer Widget  -->
                </div>
                <!--                <div class="col-sm-6 col-lg-3 wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">-->
                <!--                    <div class="footer-widget white">-->
                <!--                        <h3 class="widget-title">Phone</h3>-->
                <!--                        <div class="popular-tags">-->
                <!--                            <ul class="mb-0 list-unstyled">-->
                <!--                                <li>(+44) 153 456 789</li>-->
                <!--                                <li>(+44) 721 456 789</li>-->
                <!--                            </ul>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                    &lt;!&ndash; End Footer Widget  &ndash;&gt;-->
                <!--                </div>-->
                <!--                <div class="col-sm-6 col-lg-3  wow fadeInRight" data-wow-duration="500ms" data-wow-delay="500ms">-->
                <!--                    <div class="footer-widget white">-->
                <!--                        <h3 class="widget-title">Social</h3>-->
                <!--                        <div class="footer-social">-->
                <!--                            <ul>-->
                <!--                                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>-->
                <!--                                <li><a href="#"><i class="fab fa-twitter"></i></a></li>-->
                <!--                                <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>-->
                <!--                                <li><a href="#"><i class="fab fa-google-plus-g"></i></a></li>-->
                <!--                                <li><a href="#"><i class="fab fa-instagram"></i></a></li>-->
                <!--                            </ul>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                    &lt;!&ndash; End Footer Widget  &ndash;&gt;-->
                <!--                </div>-->
            </div>
        </div>
    </div>
    <!-- End Footer Top -->

    <!--    <div class="footer-bottom">-->
    <!--        <div class="container">-->
    <!--            <div class="row wow fadeInUp" data-wow-duration="500ms" data-wow-delay="500ms">-->
    <!--                <div class="col-md-12">-->
    <!--                    <div class="copyright text-center">-->
    <!--                        Copyright &copy; 2023.Company name All rights reserved.<a target="_blank"-->
    <!--                                                                                  href="https://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--                &lt;!&ndash; End col  &ndash;&gt;-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->
    <!-- End Footer Bottom -->
</footer>


<!--================= Back to top ==================-->
<a href="#" class="scrollup"><i class="fa fa-angle-up"></i></a>
<!--================= Div End ==================-->

<!--================= Include All JS ==================-->
<!-- Jquery Main-->
<script src="static/js1/jquery-3.5.1.min.js"></script>
<!-- Jquery Easing -->
<script src="static/js1/jquery.easing.js"></script>
<!-- Bootstrap -->
<script src="static/js1/popper.min.js"></script>
<script src="static/js1/bootstrap.min.js"></script>
<!-- Animate wow-->
<script src="static/js1/wow.min.js"></script>
<!-- Onepage Nav-->
<script src="static/js1/onepageNav.js"></script>
<!-- waypoints -->
<script src="static/js1/jquery.waypoints.min.js"></script>
<!-- Sticky-->
<script src="static/js1/jquery.sticky.js"></script>
<!-- Carousel -->
<script src="static/js1/owl.carousel.min.js"></script>
<!-- Fancybox Popup -->
<script src="static/js1/jquery.fancybox.min.js"></script>
<!-- Mobile Menu -->
<script src="static/js1/jquery.meanmenu.js"></script>
<!-- Rcounterup -->
<script src="static/js1/jquery.rcounterup.js"></script>
<!-- mixitup.min.js -->
<script src="static/js1/jquery.mixitup.min.js"></script>

<!-- js Plugins Initialize Scripts -->
<script src="static/js1/scripts1.js"></script>

<script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.152.2/examples/jsm/"
        }
      }








</script>
<script type="module">
    import * as THREE from "three";
    import {OrbitControls} from 'three/addons/controls/OrbitControls.js';
    import {PCDLoader} from 'three/addons/loaders/PCDLoader.js';
    import {GUI} from 'three/addons/libs/lil-gui.module.min.js';

    let camera, scene, renderer;

    init();
    render();

    function init() {

        renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth / 4, window.innerHeight / 3.5);
        renderer.useLegacyLights = false;
        document.body.appendChild(renderer.domElement);

        scene = new THREE.Scene();

        camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 0.01, 40);
        camera.position.set(0, 0, 1);
        scene.add(camera);

        const controls = new OrbitControls(camera, renderer.domElement);
        controls.addEventListener('change', render); // use if there is no animation loop
        controls.minDistance = 0.5;
        controls.maxDistance = 10;

        //scene.add( new THREE.AxesHelper( 1 ) );

        const loader = new PCDLoader();
        loader.load('https://raw.githubusercontent.com/mrdoob/three.js/master/examples/models/pcd/binary/Zaghetto.pcd', function (points) {

            points.geometry.center();
            points.geometry.rotateX(Math.PI);
            points.name = 'Zaghetto.pcd';
            scene.add(points);

            //

            // const gui = new GUI();

            // gui.add(points.material, 'size', 0.001, 0.01).onChange(render);
            // gui.addColor(points.material, 'color').onChange(render);
            // gui.open();

            //

            render();

        });

        window.addEventListener('resize', onWindowResize);

    }

    function onWindowResize() {

        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        renderer.setSize(window.innerWidth / 4, window.innerHeight / 3.5);

        render();

    }

    function render() {

        renderer.render(scene, camera);

    }

    const myDiv = document.getElementById('myDiv');
    myDiv.appendChild(renderer.domElement);


</script>

</body>
</html>
